{
    "sourceFile": "parrot-aml/src/Component/LoginSection.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 15,
            "patches": [
                {
                    "date": 1737025658907,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1737025669358,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n // Assuming this is in a parent component like App.jsx or similar\r\n import React from 'react';\r\n import LoginSection from './LoginSection';\r\n-import { domainClientMapping } from './auth';\r\n+import { domainClientMapping } from '../auth/auth.jsx';\r\n \r\n const ParentComponent = () => {\r\n   const domain = window.location.hostname; // Or any other method to get the domain\r\n   const companyName = domainClientMapping[domain]?.['company-name'] || 'Default Company'; // Fallback to 'Default Company' if no match\r\n"
                },
                {
                    "date": 1737025799802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,21 +1,22 @@\n-// Assuming this is in a parent component like App.jsx or similar\r\n import React from 'react';\r\n-import LoginSection from './LoginSection';\r\n-import { domainClientMapping } from '../auth/auth.jsx';\r\n+import '../StyleSheet/LoginSection.css';\r\n \r\n-const ParentComponent = () => {\r\n-  const domain = window.location.hostname; // Or any other method to get the domain\r\n-  const companyName = domainClientMapping[domain]?.['company-name'] || 'Default Company'; // Fallback to 'Default Company' if no match\r\n-  \r\n+const LoginSection = ({ \r\n+  loginText = \"Login\",\r\n+  companyName = \"Unknown Company\",  // Default value for companyName\r\n+  onClick = () => console.log(\"Login clicked\")\r\n+}) => {\r\n   return (\r\n-    <div>\r\n-      <LoginSection \r\n-        loginText=\"Login\"\r\n-        companyName={companyName} \r\n-        onClick={() => console.log(\"Login clicked\")}\r\n+    <div className=\"login-section\">\r\n+      <span className=\"login-text\">{loginText}</span>\r\n+      <img \r\n+        src=\"https://dashboard.codeparrot.ai/api/assets/Z2vC-I6CYQNjI8la\" \r\n+        alt=\"Login Icon\" \r\n+        className=\"login-icon\"\r\n       />\r\n+      <div className=\"company-name\">{companyName}</div> {/* Display the company name */}\r\n     </div>\r\n   );\r\n };\r\n \r\n-export default ParentComponent;\r\n+export default LoginSection;\r\n"
                },
                {
                    "date": 1737026507616,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,9 +7,9 @@\n   onClick = () => console.log(\"Login clicked\")\r\n }) => {\r\n   return (\r\n     <div className=\"login-section\">\r\n-      <span className=\"login-text\">{loginText}</span>\r\n+      <span className=\"login-text\">{loginText}SIGMA</span>\r\n       <img \r\n         src=\"https://dashboard.codeparrot.ai/api/assets/Z2vC-I6CYQNjI8la\" \r\n         alt=\"Login Icon\" \r\n         className=\"login-icon\"\r\n"
                },
                {
                    "date": 1737026544793,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,8 +8,9 @@\n }) => {\r\n   return (\r\n     <div className=\"login-section\">\r\n       <span className=\"login-text\">{loginText}SIGMA</span>\r\n+      <H1>SIGMA SKIBIDI</H1>\r\n       <img \r\n         src=\"https://dashboard.codeparrot.ai/api/assets/Z2vC-I6CYQNjI8la\" \r\n         alt=\"Login Icon\" \r\n         className=\"login-icon\"\r\n"
                },
                {
                    "date": 1737026748053,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,9 @@\n     <div className=\"login-section\">\r\n       <span className=\"login-text\">{loginText}SIGMA</span>\r\n       <H1>SIGMA SKIBIDI</H1>\r\n       <img \r\n-        src=\"https://dashboard.codeparrot.ai/api/assets/Z2vC-I6CYQNjI8la\" \r\n+        src=\"/main-interface/login-icon.png\" \r\n         alt=\"Login Icon\" \r\n         className=\"login-icon\"\r\n       />\r\n       <div className=\"company-name\">{companyName}</div> {/* Display the company name */}\r\n"
                },
                {
                    "date": 1737035389087,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,11 +6,11 @@\n   companyName = \"Unknown Company\",  // Default value for companyName\r\n   onClick = () => console.log(\"Login clicked\")\r\n }) => {\r\n   return (\r\n-    <div className=\"login-section\">\r\n-      <span className=\"login-text\">{loginText}SIGMA</span>\r\n-      <H1>SIGMA SKIBIDI</H1>\r\n+    <div className=\"login-section\" onClick={onClick}>\r\n+      <span className=\"login-text\">{loginText} SIGMA</span> {/* Added space between `loginText` and `SIGMA` */}\r\n+      <h1>SIGMA SKIBIDI</h1> {/* Changed `H1` to `h1` for correct JSX syntax */}\r\n       <img \r\n         src=\"/main-interface/login-icon.png\" \r\n         alt=\"Login Icon\" \r\n         className=\"login-icon\"\r\n@@ -20,4 +20,5 @@\n   );\r\n };\r\n \r\n export default LoginSection;\r\n+\r\n"
                },
                {
                    "date": 1737035659759,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,9 +8,8 @@\n }) => {\r\n   return (\r\n     <div className=\"login-section\" onClick={onClick}>\r\n       <span className=\"login-text\">{loginText} SIGMA</span> {/* Added space between `loginText` and `SIGMA` */}\r\n-      <h1>SIGMA SKIBIDI</h1> {/* Changed `H1` to `h1` for correct JSX syntax */}\r\n       <img \r\n         src=\"/main-interface/login-icon.png\" \r\n         alt=\"Login Icon\" \r\n         className=\"login-icon\"\r\n"
                },
                {
                    "date": 1737038488914,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,15 +7,14 @@\n   onClick = () => console.log(\"Login clicked\")\r\n }) => {\r\n   return (\r\n     <div className=\"login-section\" onClick={onClick}>\r\n-      <span className=\"login-text\">{loginText} SIGMA</span> {/* Added space between `loginText` and `SIGMA` */}\r\n+      <span className=\"login-text\">{loginText} SIGMA from {companyName}</span> {/* Added space between `loginText` and `SIGMA` */}\r\n       <img \r\n         src=\"/main-interface/login-icon.png\" \r\n         alt=\"Login Icon\" \r\n         className=\"login-icon\"\r\n       />\r\n-      <div className=\"company-name\">{companyName}</div> {/* Display the company name */}\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1737039437123,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,15 +1,24 @@\n-import React from 'react';\r\n+import React, { useEffect, useState } from 'react';\r\n import '../StyleSheet/LoginSection.css';\r\n \r\n const LoginSection = ({ \r\n   loginText = \"Login\",\r\n-  companyName = \"Unknown Company\",  // Default value for companyName\r\n   onClick = () => console.log(\"Login clicked\")\r\n }) => {\r\n+  const [companyName, setCompanyName] = useState(\"Unknown Company\"); // Default value\r\n+\r\n+  // Fetch companyName from localStorage when the component mounts\r\n+  useEffect(() => {\r\n+    const storedCompanyName = localStorage.getItem('company_name');\r\n+    if (storedCompanyName) {\r\n+      setCompanyName(storedCompanyName); // Update state with the stored company name\r\n+    }\r\n+  }, []);\r\n+\r\n   return (\r\n     <div className=\"login-section\" onClick={onClick}>\r\n-      <span className=\"login-text\">{loginText} SIGMA from {companyName}</span> {/* Added space between `loginText` and `SIGMA` */}\r\n+      <span className=\"login-text\">{loginText} SIGMA from {companyName}</span> {/* Display dynamic companyName */}\r\n       <img \r\n         src=\"/main-interface/login-icon.png\" \r\n         alt=\"Login Icon\" \r\n         className=\"login-icon\"\r\n@@ -18,5 +27,4 @@\n   );\r\n };\r\n \r\n export default LoginSection;\r\n-\r\n"
                },
                {
                    "date": 1737045563746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,27 +1,45 @@\n import React, { useEffect, useState } from 'react';\r\n+import { firestore } from '../firebase'; // Import firestore\r\n+import { doc, getDoc } from 'firebase/firestore'; // Import Firestore functions\r\n import '../StyleSheet/LoginSection.css';\r\n \r\n-const LoginSection = ({ \r\n-  loginText = \"Login\",\r\n-  onClick = () => console.log(\"Login clicked\")\r\n-}) => {\r\n+const LoginSection = ({ loginText = \"Login\", onClick = () => console.log(\"Login clicked\") }) => {\r\n   const [companyName, setCompanyName] = useState(\"Unknown Company\"); // Default value\r\n+  const [userName, setUserName] = useState(\"SIGMA\"); // Default value for user's name\r\n \r\n-  // Fetch companyName from localStorage when the component mounts\r\n+  // Fetch user data from Firestore when the component mounts\r\n   useEffect(() => {\r\n-    const storedCompanyName = localStorage.getItem('company_name');\r\n-    if (storedCompanyName) {\r\n-      setCompanyName(storedCompanyName); // Update state with the stored company name\r\n-    }\r\n+    const fetchUserData = async () => {\r\n+      // Get the user ID from localStorage (you can set this during login or authentication)\r\n+      const userId = localStorage.getItem('user_id'); // Make sure you save the user ID during login\r\n+\r\n+      if (userId) {\r\n+        try {\r\n+          // Fetch user data from Firestore\r\n+          const userDocRef = doc(firestore, 'users', userId); // Get document reference\r\n+          const userDoc = await getDoc(userDocRef);\r\n+\r\n+          if (userDoc.exists()) {\r\n+            const userData = userDoc.data();\r\n+            setUserName(userData.userName || \"SIGMA\"); // Set user name if available\r\n+            setCompanyName(userData.companyName || \"Unknown Company\"); // Set company name if available\r\n+          }\r\n+        } catch (error) {\r\n+          console.error(\"Error fetching user data:\", error);\r\n+        }\r\n+      }\r\n+    };\r\n+\r\n+    fetchUserData();\r\n   }, []);\r\n \r\n   return (\r\n     <div className=\"login-section\" onClick={onClick}>\r\n-      <span className=\"login-text\">{loginText} SIGMA from {companyName}</span> {/* Display dynamic companyName */}\r\n-      <img \r\n-        src=\"/main-interface/login-icon.png\" \r\n-        alt=\"Login Icon\" \r\n+      <span className=\"login-text\">{userName} SIGMA from {companyName}</span> {/* Display dynamic user name and company name */}\r\n+      <img\r\n+        src=\"/main-interface/login-icon.png\"\r\n+        alt=\"Login Icon\"\r\n         className=\"login-icon\"\r\n       />\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1737045605133,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,45 +1,31 @@\n import React, { useEffect, useState } from 'react';\r\n-import { firestore } from '../firebase'; // Import firestore\r\n-import { doc, getDoc } from 'firebase/firestore'; // Import Firestore functions\r\n import '../StyleSheet/LoginSection.css';\r\n \r\n const LoginSection = ({ loginText = \"Login\", onClick = () => console.log(\"Login clicked\") }) => {\r\n-  const [companyName, setCompanyName] = useState(\"Unknown Company\"); // Default value\r\n-  const [userName, setUserName] = useState(\"SIGMA\"); // Default value for user's name\r\n+  const [companyName, setCompanyName] = useState(\"Unknown Company\");\r\n+  const [userName, setUserName] = useState(\"SIGMA\");\r\n \r\n-  // Fetch user data from Firestore when the component mounts\r\n+  // Fetch user data from localStorage when the component mounts\r\n   useEffect(() => {\r\n-    const fetchUserData = async () => {\r\n-      // Get the user ID from localStorage (you can set this during login or authentication)\r\n-      const userId = localStorage.getItem('user_id'); // Make sure you save the user ID during login\r\n+    const storedUserName = localStorage.getItem('userName');\r\n+    const storedCompanyName = localStorage.getItem('companyName');\r\n \r\n-      if (userId) {\r\n-        try {\r\n-          // Fetch user data from Firestore\r\n-          const userDocRef = doc(firestore, 'users', userId); // Get document reference\r\n-          const userDoc = await getDoc(userDocRef);\r\n+    if (storedUserName) {\r\n+      setUserName(storedUserName); // Update user name\r\n+    }\r\n \r\n-          if (userDoc.exists()) {\r\n-            const userData = userDoc.data();\r\n-            setUserName(userData.userName || \"SIGMA\"); // Set user name if available\r\n-            setCompanyName(userData.companyName || \"Unknown Company\"); // Set company name if available\r\n-          }\r\n-        } catch (error) {\r\n-          console.error(\"Error fetching user data:\", error);\r\n-        }\r\n-      }\r\n-    };\r\n-\r\n-    fetchUserData();\r\n+    if (storedCompanyName) {\r\n+      setCompanyName(storedCompanyName); // Update company name\r\n+    }\r\n   }, []);\r\n \r\n   return (\r\n     <div className=\"login-section\" onClick={onClick}>\r\n-      <span className=\"login-text\">{userName} SIGMA from {companyName}</span> {/* Display dynamic user name and company name */}\r\n-      <img\r\n-        src=\"/main-interface/login-icon.png\"\r\n-        alt=\"Login Icon\"\r\n+      <span className=\"login-text\">{userName} SIGMA from {companyName}</span> {/* Display dynamic userName and companyName */}\r\n+      <img \r\n+        src=\"/main-interface/login-icon.png\" \r\n+        alt=\"Login Icon\" \r\n         className=\"login-icon\"\r\n       />\r\n     </div>\r\n   );\r\n"
                },
                {
                    "date": 1737045636931,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n   }, []);\r\n \r\n   return (\r\n     <div className=\"login-section\" onClick={onClick}>\r\n-      <span className=\"login-text\">{userName} SIGMA from {companyName}</span> {/* Display dynamic userName and companyName */}\r\n+      <span className=\"login-text\">{userName} from {companyName}</span> {/* Display dynamic userName and companyName */}\r\n       <img \r\n         src=\"/main-interface/login-icon.png\" \r\n         alt=\"Login Icon\" \r\n         className=\"login-icon\"\r\n"
                },
                {
                    "date": 1737045651400,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n   }, []);\r\n \r\n   return (\r\n     <div className=\"login-section\" onClick={onClick}>\r\n-      <span className=\"login-text\">{userName} from {companyName}</span> {/* Display dynamic userName and companyName */}\r\n+      <span className=\"login-text\">Welcome {userName} from {companyName}</span> {/* Display dynamic userName and companyName */}\r\n       <img \r\n         src=\"/main-interface/login-icon.png\" \r\n         alt=\"Login Icon\" \r\n         className=\"login-icon\"\r\n"
                },
                {
                    "date": 1737047611892,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,20 +9,24 @@\n   useEffect(() => {\r\n     const storedUserName = localStorage.getItem('userName');\r\n     const storedCompanyName = localStorage.getItem('companyName');\r\n \r\n+    // Log values for debugging\r\n+    console.log(\"Stored userName:\", storedUserName);\r\n+    console.log(\"Stored companyName:\", storedCompanyName);\r\n+\r\n     if (storedUserName) {\r\n-      setUserName(storedUserName); // Update user name\r\n+      setUserName(storedUserName); // Update user name if available\r\n     }\r\n \r\n     if (storedCompanyName) {\r\n-      setCompanyName(storedCompanyName); // Update company name\r\n+      setCompanyName(storedCompanyName); // Update company name if available\r\n     }\r\n   }, []);\r\n \r\n   return (\r\n     <div className=\"login-section\" onClick={onClick}>\r\n-      <span className=\"login-text\">Welcome {userName} from {companyName}</span> {/* Display dynamic userName and companyName */}\r\n+      <span className=\"login-text\">{userName} from {companyName}</span> {/* Display dynamic userName and companyName */}\r\n       <img \r\n         src=\"/main-interface/login-icon.png\" \r\n         alt=\"Login Icon\" \r\n         className=\"login-icon\"\r\n"
                },
                {
                    "date": 1737232668020,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,38 @@\n+import React, { useEffect, useState } from 'react';\r\n+import '../StyleSheet/LoginSection.css';\r\n+\r\n+const LoginSection = ({ loginText = \"Login\", onClick = () => console.log(\"Login clicked\") }) => {\r\n+  const [companyName, setCompanyName] = useState(\"Unknown Company\");\r\n+  const [userName, setUserName] = useState(\"SIGMA\");\r\n+\r\n+  // Fetch user data from localStorage when the component mounts\r\n+  useEffect(() => {\r\n+    const storedUserName = localStorage.getItem('user_name');\r\n+    const storedCompanyName = localStorage.getItem('company_name');\r\n+\r\n+    // Log values for debugging\r\n+    console.log(\"Stored userName:\", storedUserName);\r\n+    console.log(\"Stored companyName:\", storedCompanyName);\r\n+\r\n+    if (storedUserName) {\r\n+      setUserName(storedUserName); // Update user name if available\r\n+    }\r\n+\r\n+    if (storedCompanyName) {\r\n+      setCompanyName(storedCompanyName); // Update company name if available\r\n+    }\r\n+  }, []);\r\n+\r\n+  return (\r\n+    <div className=\"login-section\" onClick={onClick}>\r\n+      <span className=\"login-text\">{userName} from {companyName}</span> {/* Display dynamic userName and companyName */}\r\n+      <img \r\n+        src=\"/main-interface/login-icon.png\" \r\n+        alt=\"Login Icon\" \r\n+        className=\"login-icon\"\r\n+      />\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default LoginSection;\r\n"
                }
            ],
            "date": 1737025658907,
            "name": "Commit-0",
            "content": "// Assuming this is in a parent component like App.jsx or similar\r\nimport React from 'react';\r\nimport LoginSection from './LoginSection';\r\nimport { domainClientMapping } from './auth';\r\n\r\nconst ParentComponent = () => {\r\n  const domain = window.location.hostname; // Or any other method to get the domain\r\n  const companyName = domainClientMapping[domain]?.['company-name'] || 'Default Company'; // Fallback to 'Default Company' if no match\r\n  \r\n  return (\r\n    <div>\r\n      <LoginSection \r\n        loginText=\"Login\"\r\n        companyName={companyName} \r\n        onClick={() => console.log(\"Login clicked\")}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ParentComponent;\r\n"
        }
    ]
}