{
    "sourceFile": "parrot-aml/src/login system/LoginPage.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 32,
            "patches": [
                {
                    "date": 1736963692714,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1736964048915,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,5 +58,4 @@\n   );\r\n };\r\n \r\n export default LoginPage;\r\n-v\n\\ No newline at end of file\n"
                },
                {
                    "date": 1736967432078,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,46 @@\n+import React, { useState } from 'react';\r\n+import { loginUser } from './auth'; // Import the login function\r\n+import { useNavigate } from 'react-router-dom';\r\n+\r\n+const LoginPage = () => {\r\n+  const [email, setEmail] = useState('');\r\n+  const [password, setPassword] = useState('');\r\n+  const [error, setError] = useState('');\r\n+  const navigate = useNavigate();\r\n+\r\n+  const handleLogin = async (e) => {\r\n+    e.preventDefault();\r\n+\r\n+    try {\r\n+      const user = await loginUser(email, password);\r\n+      console.log('User logged in:', user);\r\n+      navigate('/main'); // Redirect to the main page after login\r\n+    } catch (err) {\r\n+      setError(err.message); // Display error message if login fails\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div>\r\n+      <h2>Login</h2>\r\n+      <form onSubmit={handleLogin}>\r\n+        <input\r\n+          type=\"email\"\r\n+          placeholder=\"Email\"\r\n+          value={email}\r\n+          onChange={(e) => setEmail(e.target.value)}\r\n+        />\r\n+        <input\r\n+          type=\"password\"\r\n+          placeholder=\"Password\"\r\n+          value={password}\r\n+          onChange={(e) => setPassword(e.target.value)}\r\n+        />\r\n+        <button type=\"submit\">Log in</button>\r\n+      </form>\r\n+      {error && <p>{error}</p>}\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default LoginPage;\r\n"
                },
                {
                    "date": 1736967465238,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState } from 'react';\r\n-import { loginUser } from './auth'; // Import the login function\r\n+import { loginUser } from './auth/auth.jsx'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n \r\n const LoginPage = () => {\r\n   const [email, setEmail] = useState('');\r\n@@ -43,65 +43,4 @@\n   );\r\n };\r\n \r\n export default LoginPage;\r\n-import React, { useState } from 'react';\r\n-import { useNavigate } from 'react-router-dom'; // For page redirection\r\n-import { getAuth, signInWithEmailAndPassword } from 'firebase/auth'; // Firebase Authentication\r\n-\r\n-const LoginPage = () => {\r\n-  const [email, setEmail] = useState('');\r\n-  const [password, setPassword] = useState('');\r\n-  const [errorMessage, setErrorMessage] = useState('');\r\n-  const navigate = useNavigate(); // Navigate to the next page on success\r\n-\r\n-  const handleLogin = async (e) => {\r\n-    e.preventDefault();\r\n-    const auth = getAuth();\r\n-    \r\n-    try {\r\n-      const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n-      const user = userCredential.user;\r\n-\r\n-      // Check if the email domain is correct (example domain 'transinergi.com')\r\n-      const emailDomain = email.split('@')[1];\r\n-      if (emailDomain === 'transinergi.com') {\r\n-        // Redirect to the main layout page\r\n-        navigate('/main');\r\n-      } else {\r\n-        setErrorMessage('Invalid email domain');\r\n-      }\r\n-    } catch (error) {\r\n-      setErrorMessage(error.message);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"login-container\">\r\n-      <h2>Login</h2>\r\n-      <form onSubmit={handleLogin}>\r\n-        <div>\r\n-          <label>Email</label>\r\n-          <input \r\n-            type=\"email\" \r\n-            value={email} \r\n-            onChange={(e) => setEmail(e.target.value)} \r\n-            required \r\n-          />\r\n-        </div>\r\n-        <div>\r\n-          <label>Password</label>\r\n-          <input \r\n-            type=\"password\" \r\n-            value={password} \r\n-            onChange={(e) => setPassword(e.target.value)} \r\n-            required \r\n-          />\r\n-        </div>\r\n-        <button type=\"submit\">Login</button>\r\n-        {errorMessage && <p>{errorMessage}</p>}\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default LoginPage;\r\n"
                },
                {
                    "date": 1736967572580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState } from 'react';\r\n-import { loginUser } from './auth/auth.jsx'; // Import the login function\r\n+import { loginUser } from 'parrot-aml/src/auth/auth.jsx'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n \r\n const LoginPage = () => {\r\n   const [email, setEmail] = useState('');\r\n"
                },
                {
                    "date": 1736967601005,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState } from 'react';\r\n-import { loginUser } from 'parrot-aml/src/auth/auth.jsx'; // Import the login function\r\n+import { loginUser } from './auth/auth.jsx'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n \r\n const LoginPage = () => {\r\n   const [email, setEmail] = useState('');\r\n"
                },
                {
                    "date": 1736967607729,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState } from 'react';\r\n-import { loginUser } from './auth/auth.jsx'; // Import the login function\r\n+import { loginUser } from 'parrot-aml/src/auth/auth.jsx'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n \r\n const LoginPage = () => {\r\n   const [email, setEmail] = useState('');\r\n"
                },
                {
                    "date": 1736967615739,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState } from 'react';\r\n-import { loginUser } from 'parrot-aml/src/auth/auth.jsx'; // Import the login function\r\n+import { loginUser } from '../auth/auth.jsx'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n \r\n const LoginPage = () => {\r\n   const [email, setEmail] = useState('');\r\n"
                },
                {
                    "date": 1737017917029,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,61 @@\n+import React, { useState } from 'react';\r\n+import { loginUser } from '../auth/auth.jsx'; // Import the login function\r\n+import { useNavigate } from 'react-router-dom';\r\n+import './LoginPage.css'; // Import the CSS file\r\n+\r\n+const LoginPage = () => {\r\n+  const [email, setEmail] = useState('');\r\n+  const [password, setPassword] = useState('');\r\n+  const [error, setError] = useState('');\r\n+  const navigate = useNavigate();\r\n+\r\n+  const handleLogin = async (e) => {\r\n+    e.preventDefault();\r\n+\r\n+    try {\r\n+      const user = await loginUser(email, password);\r\n+      console.log('User logged in:', user);\r\n+      navigate('/main'); // Redirect to the main page after login\r\n+    } catch (err) {\r\n+      setError(err.message); // Display error message if login fails\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"ImportantMessages\">\r\n+      <div className=\"LoginPadding\">\r\n+        <div className=\"LoginSection\">\r\n+          <div className=\"WelcomeText\">Welcome</div>\r\n+          <div className=\"Frame34\">\r\n+            <div className=\"EmailColumn\">\r\n+              <label className=\"EmailAddress\">Email Address</label>\r\n+              <input\r\n+                type=\"email\"\r\n+                className=\"InputField\"\r\n+                value={email}\r\n+                onChange={(e) => setEmail(e.target.value)}\r\n+              />\r\n+            </div>\r\n+            <div className=\"PasswordColumn\">\r\n+              <label className=\"Password\">Password</label>\r\n+              <input\r\n+                type=\"password\"\r\n+                className=\"InputField\"\r\n+                value={password}\r\n+                onChange={(e) => setPassword(e.target.value)}\r\n+              />\r\n+            </div>\r\n+            <div className=\"SubmitSection\">\r\n+              <button type=\"submit\" className=\"SubmitButton\" onClick={handleLogin}>\r\n+                Log in\r\n+              </button>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+        {error && <p className=\"ErrorMessage\">{error}</p>}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default LoginPage;\r\n"
                },
                {
                    "date": 1737018585305,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,50 +58,4 @@\n   );\r\n };\r\n \r\n export default LoginPage;\r\n-import React, { useState } from 'react';\r\n-import { loginUser } from '../auth/auth.jsx'; // Import the login function\r\n-import { useNavigate } from 'react-router-dom';\r\n-\r\n-const LoginPage = () => {\r\n-  const [email, setEmail] = useState('');\r\n-  const [password, setPassword] = useState('');\r\n-  const [error, setError] = useState('');\r\n-  const navigate = useNavigate();\r\n-\r\n-  const handleLogin = async (e) => {\r\n-    e.preventDefault();\r\n-\r\n-    try {\r\n-      const user = await loginUser(email, password);\r\n-      console.log('User logged in:', user);\r\n-      navigate('/main'); // Redirect to the main page after login\r\n-    } catch (err) {\r\n-      setError(err.message); // Display error message if login fails\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div>\r\n-      <h2>Login</h2>\r\n-      <form onSubmit={handleLogin}>\r\n-        <input\r\n-          type=\"email\"\r\n-          placeholder=\"Email\"\r\n-          value={email}\r\n-          onChange={(e) => setEmail(e.target.value)}\r\n-        />\r\n-        <input\r\n-          type=\"password\"\r\n-          placeholder=\"Password\"\r\n-          value={password}\r\n-          onChange={(e) => setPassword(e.target.value)}\r\n-        />\r\n-        <button type=\"submit\">Log in</button>\r\n-      </form>\r\n-      {error && <p>{error}</p>}\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default LoginPage;\r\n"
                },
                {
                    "date": 1737021682829,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,8 +22,11 @@\n   };\r\n \r\n   return (\r\n     <div className=\"ImportantMessages\">\r\n+      <div className=\"LogoSection\">\r\n+        <img src=\"C:/Users/Ananta Anugrah/Desktop/aml sigma SECOND Reincarnation/parrot-aml/src/assets/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n+      </div>\r\n       <div className=\"LoginPadding\">\r\n         <div className=\"LoginSection\">\r\n           <div className=\"WelcomeText\">Welcome</div>\r\n           <div className=\"Frame34\">\r\n"
                },
                {
                    "date": 1737021740610,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n \r\n   return (\r\n     <div className=\"ImportantMessages\">\r\n       <div className=\"LogoSection\">\r\n-        <img src=\"C:/Users/Ananta Anugrah/Desktop/aml sigma SECOND Reincarnation/parrot-aml/src/assets/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n+        <img src=\"/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n       </div>\r\n       <div className=\"LoginPadding\">\r\n         <div className=\"LoginSection\">\r\n           <div className=\"WelcomeText\">Welcome</div>\r\n"
                },
                {
                    "date": 1737021776518,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n \r\n   return (\r\n     <div className=\"ImportantMessages\">\r\n       <div className=\"LogoSection\">\r\n-        <img src=\"/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n+        <img src=\"parrot-aml\\src\\assets\\datum\\datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n       </div>\r\n       <div className=\"LoginPadding\">\r\n         <div className=\"LoginSection\">\r\n           <div className=\"WelcomeText\">Welcome</div>\r\n"
                },
                {
                    "date": 1737021828095,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n \r\n   return (\r\n     <div className=\"ImportantMessages\">\r\n       <div className=\"LogoSection\">\r\n-        <img src=\"parrot-aml\\src\\assets\\datum\\datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n+        <img src=\"..\\assets\\datum\\datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n       </div>\r\n       <div className=\"LoginPadding\">\r\n         <div className=\"LoginSection\">\r\n           <div className=\"WelcomeText\">Welcome</div>\r\n"
                },
                {
                    "date": 1737021991286,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n \r\n   return (\r\n     <div className=\"ImportantMessages\">\r\n       <div className=\"LogoSection\">\r\n-        <img src=\"..\\assets\\datum\\datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n+        <img src=\"/assets/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n       </div>\r\n       <div className=\"LoginPadding\">\r\n         <div className=\"LoginSection\">\r\n           <div className=\"WelcomeText\">Welcome</div>\r\n"
                },
                {
                    "date": 1737024451945,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n \r\n   return (\r\n     <div className=\"ImportantMessages\">\r\n       <div className=\"LogoSection\">\r\n-        <img src=\"/assets/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n+        <img src=\"/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n       </div>\r\n       <div className=\"LoginPadding\">\r\n         <div className=\"LoginSection\">\r\n           <div className=\"WelcomeText\">Welcome</div>\r\n"
                },
                {
                    "date": 1737024668013,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n \r\n   return (\r\n     <div className=\"ImportantMessages\">\r\n       <div className=\"LogoSection\">\r\n-        <img src=\"/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n+        <img src=\"/leftbar/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n       </div>\r\n       <div className=\"LoginPadding\">\r\n         <div className=\"LoginSection\">\r\n           <div className=\"WelcomeText\">Welcome</div>\r\n"
                },
                {
                    "date": 1737024736681,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,9 @@\n \r\n   return (\r\n     <div className=\"ImportantMessages\">\r\n       <div className=\"LogoSection\">\r\n-        <img src=\"/leftbar/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n+        <img src=\"/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n       </div>\r\n       <div className=\"LoginPadding\">\r\n         <div className=\"LoginSection\">\r\n           <div className=\"WelcomeText\">Welcome</div>\r\n"
                },
                {
                    "date": 1737025129213,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,8 +20,14 @@\n       setError(err.message); // Display error message if login fails\r\n     }\r\n   };\r\n \r\n+  const handleKeyDown = (e) => {\r\n+    if (e.key === 'Enter') {\r\n+      handleLogin(e); // Trigger login on Enter key press\r\n+    }\r\n+  };\r\n+\r\n   return (\r\n     <div className=\"ImportantMessages\">\r\n       <div className=\"LogoSection\">\r\n         <img src=\"/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n@@ -36,8 +42,9 @@\n                 type=\"email\"\r\n                 className=\"InputField\"\r\n                 value={email}\r\n                 onChange={(e) => setEmail(e.target.value)}\r\n+                onKeyDown={handleKeyDown} // Listen for Enter key press\r\n               />\r\n             </div>\r\n             <div className=\"PasswordColumn\">\r\n               <label className=\"Password\">Password</label>\r\n@@ -45,8 +52,9 @@\n                 type=\"password\"\r\n                 className=\"InputField\"\r\n                 value={password}\r\n                 onChange={(e) => setPassword(e.target.value)}\r\n+                onKeyDown={handleKeyDown} // Listen for Enter key press\r\n               />\r\n             </div>\r\n             <div className=\"SubmitSection\">\r\n               <button type=\"submit\" className=\"SubmitButton\" onClick={handleLogin}>\r\n"
                },
                {
                    "date": 1737025210265,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,64 @@\n+import React, { useState } from 'react';\r\n+import { loginUser } from '../auth/auth.jsx'; // Import the login function\r\n+import { useNavigate } from 'react-router-dom';\r\n+import './LoginPage.css'; // Import the CSS file\r\n+\r\n+const LoginPage = () => {\r\n+  const [email, setEmail] = useState('');\r\n+  const [password, setPassword] = useState('');\r\n+  const [error, setError] = useState('');\r\n+  const navigate = useNavigate();\r\n+\r\n+  const handleLogin = async (e) => {\r\n+    e.preventDefault(); // Prevent the form from reloading the page\r\n+\r\n+    try {\r\n+      const user = await loginUser(email, password);\r\n+      console.log('User logged in:', user);\r\n+      navigate('/main'); // Redirect to the main page after login\r\n+    } catch (err) {\r\n+      setError(err.message); // Display error message if login fails\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"ImportantMessages\">\r\n+      <div className=\"LogoSection\">\r\n+        <img src=\"/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n+      </div>\r\n+      <div className=\"LoginPadding\">\r\n+        <form className=\"LoginSection\" onSubmit={handleLogin}> {/* Use a form element */}\r\n+          <div className=\"WelcomeText\">Welcome</div>\r\n+          <div className=\"Frame34\">\r\n+            <div className=\"EmailColumn\">\r\n+              <label className=\"EmailAddress\">Email Address</label>\r\n+              <input\r\n+                type=\"email\"\r\n+                className=\"InputField\"\r\n+                value={email}\r\n+                onChange={(e) => setEmail(e.target.value)}\r\n+              />\r\n+            </div>\r\n+            <div className=\"PasswordColumn\">\r\n+              <label className=\"Password\">Password</label>\r\n+              <input\r\n+                type=\"password\"\r\n+                className=\"InputField\"\r\n+                value={password}\r\n+                onChange={(e) => setPassword(e.target.value)}\r\n+              />\r\n+            </div>\r\n+            <div className=\"SubmitSection\">\r\n+              <button type=\"submit\" className=\"SubmitButton\"> {/* Button inside the form */}\r\n+                Log in\r\n+              </button>\r\n+            </div>\r\n+          </div>\r\n+        </form>\r\n+        {error && <p className=\"ErrorMessage\">{error}</p>}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default LoginPage;\r\n"
                },
                {
                    "date": 1737025966802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n import { loginUser } from '../auth/auth.jsx'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n import './LoginPage.css'; // Import the CSS file\r\n \r\n-const LoginPage = () => {\r\n+const LoginPage = ({ companyName }) => { // Accept the companyName prop\r\n   const [email, setEmail] = useState('');\r\n   const [password, setPassword] = useState('');\r\n   const [error, setError] = useState('');\r\n   const navigate = useNavigate();\r\n@@ -26,10 +26,10 @@\n       <div className=\"LogoSection\">\r\n         <img src=\"/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n       </div>\r\n       <div className=\"LoginPadding\">\r\n-        <form className=\"LoginSection\" onSubmit={handleLogin}> {/* Use a form element */}\r\n-          <div className=\"WelcomeText\">Welcome</div>\r\n+        <form className=\"LoginSection\" onSubmit={handleLogin}>\r\n+          <div className=\"WelcomeText\">Welcome to {companyName} Login</div> {/* Display the company name */}\r\n           <div className=\"Frame34\">\r\n             <div className=\"EmailColumn\">\r\n               <label className=\"EmailAddress\">Email Address</label>\r\n               <input\r\n@@ -48,11 +48,9 @@\n                 onChange={(e) => setPassword(e.target.value)}\r\n               />\r\n             </div>\r\n             <div className=\"SubmitSection\">\r\n-              <button type=\"submit\" className=\"SubmitButton\"> {/* Button inside the form */}\r\n-                Log in\r\n-              </button>\r\n+              <button type=\"submit\" className=\"SubmitButton\">Log in</button>\r\n             </div>\r\n           </div>\r\n         </form>\r\n         {error && <p className=\"ErrorMessage\">{error}</p>}\r\n@@ -61,76 +59,4 @@\n   );\r\n };\r\n \r\n export default LoginPage;\r\n-import React, { useState } from 'react';\r\n-import { loginUser } from '../auth/auth.jsx'; // Import the login function\r\n-import { useNavigate } from 'react-router-dom';\r\n-import './LoginPage.css'; // Import the CSS file\r\n-\r\n-const LoginPage = () => {\r\n-  const [email, setEmail] = useState('');\r\n-  const [password, setPassword] = useState('');\r\n-  const [error, setError] = useState('');\r\n-  const navigate = useNavigate();\r\n-\r\n-  const handleLogin = async (e) => {\r\n-    e.preventDefault();\r\n-\r\n-    try {\r\n-      const user = await loginUser(email, password);\r\n-      console.log('User logged in:', user);\r\n-      navigate('/main'); // Redirect to the main page after login\r\n-    } catch (err) {\r\n-      setError(err.message); // Display error message if login fails\r\n-    }\r\n-  };\r\n-\r\n-  const handleKeyDown = (e) => {\r\n-    if (e.key === 'Enter') {\r\n-      handleLogin(e); // Trigger login on Enter key press\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"ImportantMessages\">\r\n-      <div className=\"LogoSection\">\r\n-        <img src=\"/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n-      </div>\r\n-      <div className=\"LoginPadding\">\r\n-        <div className=\"LoginSection\">\r\n-          <div className=\"WelcomeText\">Welcome</div>\r\n-          <div className=\"Frame34\">\r\n-            <div className=\"EmailColumn\">\r\n-              <label className=\"EmailAddress\">Email Address</label>\r\n-              <input\r\n-                type=\"email\"\r\n-                className=\"InputField\"\r\n-                value={email}\r\n-                onChange={(e) => setEmail(e.target.value)}\r\n-                onKeyDown={handleKeyDown} // Listen for Enter key press\r\n-              />\r\n-            </div>\r\n-            <div className=\"PasswordColumn\">\r\n-              <label className=\"Password\">Password</label>\r\n-              <input\r\n-                type=\"password\"\r\n-                className=\"InputField\"\r\n-                value={password}\r\n-                onChange={(e) => setPassword(e.target.value)}\r\n-                onKeyDown={handleKeyDown} // Listen for Enter key press\r\n-              />\r\n-            </div>\r\n-            <div className=\"SubmitSection\">\r\n-              <button type=\"submit\" className=\"SubmitButton\" onClick={handleLogin}>\r\n-                Log in\r\n-              </button>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-        {error && <p className=\"ErrorMessage\">{error}</p>}\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default LoginPage;\r\n"
                },
                {
                    "date": 1737026452665,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n import { loginUser } from '../auth/auth.jsx'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n import './LoginPage.css'; // Import the CSS file\r\n \r\n-const LoginPage = ({ companyName }) => { // Accept the companyName prop\r\n+const LoginPage = ({ companyName }) => {\r\n   const [email, setEmail] = useState('');\r\n   const [password, setPassword] = useState('');\r\n   const [error, setError] = useState('');\r\n   const navigate = useNavigate();\r\n@@ -26,10 +26,10 @@\n       <div className=\"LogoSection\">\r\n         <img src=\"/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n       </div>\r\n       <div className=\"LoginPadding\">\r\n-        <form className=\"LoginSection\" onSubmit={handleLogin}>\r\n-          <div className=\"WelcomeText\">Welcome to {companyName} Login</div> {/* Display the company name */}\r\n+        <form className=\"LoginSection\" onSubmit={handleLogin}> {/* Use a form element */}\r\n+          <div className=\"WelcomeText\">{companyName} - Welcome</div> {/* Display company name */}\r\n           <div className=\"Frame34\">\r\n             <div className=\"EmailColumn\">\r\n               <label className=\"EmailAddress\">Email Address</label>\r\n               <input\r\n@@ -48,9 +48,11 @@\n                 onChange={(e) => setPassword(e.target.value)}\r\n               />\r\n             </div>\r\n             <div className=\"SubmitSection\">\r\n-              <button type=\"submit\" className=\"SubmitButton\">Log in</button>\r\n+              <button type=\"submit\" className=\"SubmitButton\"> {/* Button inside the form */}\r\n+                Log in\r\n+              </button>\r\n             </div>\r\n           </div>\r\n         </form>\r\n         {error && <p className=\"ErrorMessage\">{error}</p>}\r\n"
                },
                {
                    "date": 1737041535565,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n+// src/Component/LoginPage.jsx\r\n import React, { useState } from 'react';\r\n-import { loginUser } from '../auth/auth.jsx'; // Import the login function\r\n+import { loginUser } from '../firebase/authService'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n import './LoginPage.css'; // Import the CSS file\r\n \r\n const LoginPage = ({ companyName }) => {\r\n@@ -12,9 +13,9 @@\n   const handleLogin = async (e) => {\r\n     e.preventDefault(); // Prevent the form from reloading the page\r\n \r\n     try {\r\n-      const user = await loginUser(email, password);\r\n+      const user = await loginUser(email, password); // Log in the user\r\n       console.log('User logged in:', user);\r\n       navigate('/main'); // Redirect to the main page after login\r\n     } catch (err) {\r\n       setError(err.message); // Display error message if login fails\r\n@@ -54,9 +55,9 @@\n               </button>\r\n             </div>\r\n           </div>\r\n         </form>\r\n-        {error && <p className=\"ErrorMessage\">{error}</p>}\r\n+        {error && <p className=\"ErrorMessage\">{error}</p>} {/* Display error message */}\r\n       </div>\r\n     </div>\r\n   );\r\n };\r\n"
                },
                {
                    "date": 1737136442985,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n // src/Component/LoginPage.jsx\r\n import React, { useState } from 'react';\r\n-import { loginUser } from '../firebase/authService'; // Import the login function\r\n+import { loginUser } from '../auth/auth'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n import './LoginPage.css'; // Import the CSS file\r\n \r\n const LoginPage = ({ companyName }) => {\r\n"
                },
                {
                    "date": 1737136530494,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n // src/Component/LoginPage.jsx\r\n import React, { useState } from 'react';\r\n-import { loginUser } from '../auth/auth'; // Import the login function\r\n+import { loginUser } from '../firebase/authService'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n import './LoginPage.css'; // Import the CSS file\r\n \r\n const LoginPage = ({ companyName }) => {\r\n"
                },
                {
                    "date": 1737137250295,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n // src/Component/LoginPage.jsx\r\n import React, { useState } from 'react';\r\n-import { loginUser } from '../firebase/authService'; // Import the login function\r\n+import { loginUser } from '../auth/auth'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n import './LoginPage.css'; // Import the CSS file\r\n \r\n const LoginPage = ({ companyName }) => {\r\n"
                },
                {
                    "date": 1737139954511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,65 +1,120 @@\n-// src/Component/LoginPage.jsx\r\n-import React, { useState } from 'react';\r\n-import { loginUser } from '../auth/auth'; // Import the login function\r\n-import { useNavigate } from 'react-router-dom';\r\n-import './LoginPage.css'; // Import the CSS file\r\n+import { getAuth, signInWithEmailAndPassword } from 'firebase/auth';\r\n+import { initializeApp } from 'firebase/app';\r\n+import { getFirestore, doc, getDoc } from 'firebase/firestore'; // Corrected import\r\n \r\n-const LoginPage = ({ companyName }) => {\r\n-  const [email, setEmail] = useState('');\r\n-  const [password, setPassword] = useState('');\r\n-  const [error, setError] = useState('');\r\n-  const navigate = useNavigate();\r\n+// Firebase configuration\r\n+const firebaseConfig = {\r\n+  apiKey: \"AIzaSyBfku8hikwXrII_Uv2u0pL6-f0a0a0mKr8\",\r\n+  authDomain: \"datumcorp-aml.firebaseapp.com\",\r\n+  projectId: \"datumcorp-aml\",\r\n+  storageBucket: \"datumcorp-aml.appspot.com\",\r\n+  messagingSenderId: \"710428028162\",\r\n+  appId: \"1:710428028162:web:486e3aad77de49d0d8261b\",\r\n+  measurementId: \"G-KSL9Y2V3HX\"\r\n+};\r\n \r\n-  const handleLogin = async (e) => {\r\n-    e.preventDefault(); // Prevent the form from reloading the page\r\n+// Initialize Firebase\r\n+const app = initializeApp(firebaseConfig);\r\n+const auth = getAuth(app);\r\n+const db = getFirestore(app); // Initialize Firestore\r\n \r\n-    try {\r\n-      const user = await loginUser(email, password); // Log in the user\r\n-      console.log('User logged in:', user);\r\n-      navigate('/main'); // Redirect to the main page after login\r\n-    } catch (err) {\r\n-      setError(err.message); // Display error message if login fails\r\n+// Function to handle login\r\n+export const loginUser = async (email, password) => {\r\n+  try {\r\n+    // Fetch user data from Firestore before authentication\r\n+    const userDocRef = doc(db, 'users', email); // Get reference to the user's document\r\n+    const userDoc = await getDoc(userDocRef); // Fetch the document\r\n+\r\n+    if (!userDoc.exists()) {\r\n+      console.log('Email not found in Firestore:', email);\r\n+      throw new Error('This email is not registered. Please sign up.');\r\n     }\r\n-  };\r\n \r\n-  return (\r\n-    <div className=\"ImportantMessages\">\r\n-      <div className=\"LogoSection\">\r\n-        <img src=\"/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n-      </div>\r\n-      <div className=\"LoginPadding\">\r\n-        <form className=\"LoginSection\" onSubmit={handleLogin}> {/* Use a form element */}\r\n-          <div className=\"WelcomeText\">{companyName} - Welcome</div> {/* Display company name */}\r\n-          <div className=\"Frame34\">\r\n-            <div className=\"EmailColumn\">\r\n-              <label className=\"EmailAddress\">Email Address</label>\r\n-              <input\r\n-                type=\"email\"\r\n-                className=\"InputField\"\r\n-                value={email}\r\n-                onChange={(e) => setEmail(e.target.value)}\r\n-              />\r\n-            </div>\r\n-            <div className=\"PasswordColumn\">\r\n-              <label className=\"Password\">Password</label>\r\n-              <input\r\n-                type=\"password\"\r\n-                className=\"InputField\"\r\n-                value={password}\r\n-                onChange={(e) => setPassword(e.target.value)}\r\n-              />\r\n-            </div>\r\n-            <div className=\"SubmitSection\">\r\n-              <button type=\"submit\" className=\"SubmitButton\"> {/* Button inside the form */}\r\n-                Log in\r\n-              </button>\r\n-            </div>\r\n-          </div>\r\n-        </form>\r\n-        {error && <p className=\"ErrorMessage\">{error}</p>} {/* Display error message */}\r\n-      </div>\r\n-    </div>\r\n-  );\r\n+    const userData = userDoc.data();\r\n+    console.log('User data fetched from Firestore:', userData);\r\n+\r\n+    // Authenticate the user with Firebase Authentication\r\n+    const userCredential = await signInWithEmailAndPassword(auth, email, password); // No .value needed here\r\n+    const user = userCredential.user;\r\n+\r\n+    console.log('User authenticated:', user);\r\n+\r\n+    // Store the user data in localStorage (optional)\r\n+    localStorage.setItem('client_id', userData['client id']);\r\n+    localStorage.setItem('company_name', userData['company name']);\r\n+    localStorage.setItem('user_id', userData.id);\r\n+\r\n+    // Redirect to dashboard after successful login\r\n+    window.location.href = '/main';\r\n+\r\n+    return user;\r\n+  } catch (error) {\r\n+    if (error.code === 'auth/user-not-found') {\r\n+      throw new Error('User not found. Please check your email or sign up.');\r\n+    } else if (error.code === 'auth/wrong-password') {\r\n+      throw new Error('Incorrect password. Please try again.');\r\n+    } else {\r\n+      throw new Error('Login failed: ' + error.message);\r\n+    }\r\n+  }\r\n };\r\n+import { getAuth, signInWithEmailAndPassword } from 'firebase/auth';\r\n+import { initializeApp } from 'firebase/app';\r\n+import { getFirestore, doc, getDoc } from 'firebase/firestore'; // Corrected import\r\n \r\n-export default LoginPage;\r\n+// Firebase configuration\r\n+const firebaseConfig = {\r\n+  apiKey: \"AIzaSyBfku8hikwXrII_Uv2u0pL6-f0a0a0mKr8\",\r\n+  authDomain: \"datumcorp-aml.firebaseapp.com\",\r\n+  projectId: \"datumcorp-aml\",\r\n+  storageBucket: \"datumcorp-aml.appspot.com\",\r\n+  messagingSenderId: \"710428028162\",\r\n+  appId: \"1:710428028162:web:486e3aad77de49d0d8261b\",\r\n+  measurementId: \"G-KSL9Y2V3HX\"\r\n+};\r\n+\r\n+// Initialize Firebase\r\n+const app = initializeApp(firebaseConfig);\r\n+const auth = getAuth(app);\r\n+const db = getFirestore(app); // Initialize Firestore\r\n+\r\n+// Function to handle login\r\n+export const loginUser = async (email, password) => {\r\n+  try {\r\n+    // Fetch user data from Firestore before authentication\r\n+    const userDocRef = doc(db, 'users', email); // Get reference to the user's document\r\n+    const userDoc = await getDoc(userDocRef); // Fetch the document\r\n+\r\n+    if (!userDoc.exists()) {\r\n+      console.log('Email not found in Firestore:', email);\r\n+      throw new Error('This email is not registered. Please sign up.');\r\n+    }\r\n+\r\n+    const userData = userDoc.data();\r\n+    console.log('User data fetched from Firestore:', userData);\r\n+\r\n+    // Authenticate the user with Firebase Authentication\r\n+    const userCredential = await signInWithEmailAndPassword(auth, email, password); // No .value needed here\r\n+    const user = userCredential.user;\r\n+\r\n+    console.log('User authenticated:', user);\r\n+\r\n+    // Store the user data in localStorage (optional)\r\n+    localStorage.setItem('client_id', userData['client id']);\r\n+    localStorage.setItem('company_name', userData['company name']);\r\n+    localStorage.setItem('user_id', userData.id);\r\n+\r\n+    // Redirect to dashboard after successful login\r\n+    window.location.href = '/main';\r\n+\r\n+    return user;\r\n+  } catch (error) {\r\n+    if (error.code === 'auth/user-not-found') {\r\n+      throw new Error('User not found. Please check your email or sign up.');\r\n+    } else if (error.code === 'auth/wrong-password') {\r\n+      throw new Error('Incorrect password. Please try again.');\r\n+    } else {\r\n+      throw new Error('Login failed: ' + error.message);\r\n+    }\r\n+  }\r\n+};\r\n"
                },
                {
                    "date": 1737140006369,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,78 +33,23 @@\n     const userData = userDoc.data();\r\n     console.log('User data fetched from Firestore:', userData);\r\n \r\n     // Authenticate the user with Firebase Authentication\r\n-    const userCredential = await signInWithEmailAndPassword(auth, email, password); // No .value needed here\r\n+    const userCredential = await signInWithEmailAndPassword(auth, email.value, password.value);\r\n     const user = userCredential.user;\r\n \r\n     console.log('User authenticated:', user);\r\n \r\n-    // Store the user data in localStorage (optional)\r\n-    localStorage.setItem('client_id', userData['client id']);\r\n-    localStorage.setItem('company_name', userData['company name']);\r\n-    localStorage.setItem('user_id', userData.id);\r\n+    await setDoc(userDocRef, {\r\n+      email: userData.email.value,\r\n+    });    \r\n \r\n-    // Redirect to dashboard after successful login\r\n-    window.location.href = '/main';\r\n \r\n-    return user;\r\n-  } catch (error) {\r\n-    if (error.code === 'auth/user-not-found') {\r\n-      throw new Error('User not found. Please check your email or sign up.');\r\n-    } else if (error.code === 'auth/wrong-password') {\r\n-      throw new Error('Incorrect password. Please try again.');\r\n-    } else {\r\n-      throw new Error('Login failed: ' + error.message);\r\n-    }\r\n-  }\r\n-};\r\n-import { getAuth, signInWithEmailAndPassword } from 'firebase/auth';\r\n-import { initializeApp } from 'firebase/app';\r\n-import { getFirestore, doc, getDoc } from 'firebase/firestore'; // Corrected import\r\n+    // // Store the user data in localStorage (optional)\r\n+    // localStorage.setItem('client_id', userData['client id']);\r\n+    // localStorage.setItem('company_name', userData['company name']);\r\n+    // localStorage.setItem('user_id', userData.id);\r\n \r\n-// Firebase configuration\r\n-const firebaseConfig = {\r\n-  apiKey: \"AIzaSyBfku8hikwXrII_Uv2u0pL6-f0a0a0mKr8\",\r\n-  authDomain: \"datumcorp-aml.firebaseapp.com\",\r\n-  projectId: \"datumcorp-aml\",\r\n-  storageBucket: \"datumcorp-aml.appspot.com\",\r\n-  messagingSenderId: \"710428028162\",\r\n-  appId: \"1:710428028162:web:486e3aad77de49d0d8261b\",\r\n-  measurementId: \"G-KSL9Y2V3HX\"\r\n-};\r\n-\r\n-// Initialize Firebase\r\n-const app = initializeApp(firebaseConfig);\r\n-const auth = getAuth(app);\r\n-const db = getFirestore(app); // Initialize Firestore\r\n-\r\n-// Function to handle login\r\n-export const loginUser = async (email, password) => {\r\n-  try {\r\n-    // Fetch user data from Firestore before authentication\r\n-    const userDocRef = doc(db, 'users', email); // Get reference to the user's document\r\n-    const userDoc = await getDoc(userDocRef); // Fetch the document\r\n-\r\n-    if (!userDoc.exists()) {\r\n-      console.log('Email not found in Firestore:', email);\r\n-      throw new Error('This email is not registered. Please sign up.');\r\n-    }\r\n-\r\n-    const userData = userDoc.data();\r\n-    console.log('User data fetched from Firestore:', userData);\r\n-\r\n-    // Authenticate the user with Firebase Authentication\r\n-    const userCredential = await signInWithEmailAndPassword(auth, email, password); // No .value needed here\r\n-    const user = userCredential.user;\r\n-\r\n-    console.log('User authenticated:', user);\r\n-\r\n-    // Store the user data in localStorage (optional)\r\n-    localStorage.setItem('client_id', userData['client id']);\r\n-    localStorage.setItem('company_name', userData['company name']);\r\n-    localStorage.setItem('user_id', userData.id);\r\n-\r\n     // Redirect to dashboard after successful login\r\n     window.location.href = '/main';\r\n \r\n     return user;\r\n"
                },
                {
                    "date": 1737140024906,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,65 +1,65 @@\n-import { getAuth, signInWithEmailAndPassword } from 'firebase/auth';\r\n-import { initializeApp } from 'firebase/app';\r\n-import { getFirestore, doc, getDoc } from 'firebase/firestore'; // Corrected import\r\n+// src/Component/LoginPage.jsx\r\n+import React, { useState } from 'react';\r\n+import { loginUser } from '../auth/auth'; // Import the login function\r\n+import { useNavigate } from 'react-router-dom';\r\n+import './LoginPage.css'; // Import the CSS file\r\n \r\n-// Firebase configuration\r\n-const firebaseConfig = {\r\n-  apiKey: \"AIzaSyBfku8hikwXrII_Uv2u0pL6-f0a0a0mKr8\",\r\n-  authDomain: \"datumcorp-aml.firebaseapp.com\",\r\n-  projectId: \"datumcorp-aml\",\r\n-  storageBucket: \"datumcorp-aml.appspot.com\",\r\n-  messagingSenderId: \"710428028162\",\r\n-  appId: \"1:710428028162:web:486e3aad77de49d0d8261b\",\r\n-  measurementId: \"G-KSL9Y2V3HX\"\r\n-};\r\n+const LoginPage = ({ companyName }) => {\r\n+  const [email, setEmail] = useState('');\r\n+  const [password, setPassword] = useState('');\r\n+  const [error, setError] = useState('');\r\n+  const navigate = useNavigate();\r\n \r\n-// Initialize Firebase\r\n-const app = initializeApp(firebaseConfig);\r\n-const auth = getAuth(app);\r\n-const db = getFirestore(app); // Initialize Firestore\r\n+  const handleLogin = async (e) => {\r\n+    e.preventDefault(); // Prevent the form from reloading the page\r\n \r\n-// Function to handle login\r\n-export const loginUser = async (email, password) => {\r\n-  try {\r\n-    // Fetch user data from Firestore before authentication\r\n-    const userDocRef = doc(db, 'users', email); // Get reference to the user's document\r\n-    const userDoc = await getDoc(userDocRef); // Fetch the document\r\n-\r\n-    if (!userDoc.exists()) {\r\n-      console.log('Email not found in Firestore:', email);\r\n-      throw new Error('This email is not registered. Please sign up.');\r\n+    try {\r\n+      const user = await loginUser(email, password); // Log in the user\r\n+      console.log('User logged in:', user);\r\n+      navigate('/main'); // Redirect to the main page after login\r\n+    } catch (err) {\r\n+      setError(err.message); // Display error message if login fails\r\n     }\r\n+  };\r\n \r\n-    const userData = userDoc.data();\r\n-    console.log('User data fetched from Firestore:', userData);\r\n+  return (\r\n+    <div className=\"ImportantMessages\">\r\n+      <div className=\"LogoSection\">\r\n+        <img src=\"/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n+      </div>\r\n+      <div className=\"LoginPadding\">\r\n+        <form className=\"LoginSection\" onSubmit={handleLogin}> {/* Use a form element */}\r\n+          <div className=\"WelcomeText\">{companyName} - Welcome</div> {/* Display company name */}\r\n+          <div className=\"Frame34\">\r\n+            <div className=\"EmailColumn\">\r\n+              <label className=\"EmailAddress\">Email Address</label>\r\n+              <input\r\n+                type=\"email\"\r\n+                className=\"InputField\"\r\n+                value={email}\r\n+                onChange={(e) => setEmail(e.target.value)}\r\n+              />\r\n+            </div>\r\n+            <div className=\"PasswordColumn\">\r\n+              <label className=\"Password\">Password</label>\r\n+              <input\r\n+                type=\"password\"\r\n+                className=\"InputField\"\r\n+                value={password}\r\n+                onChange={(e) => setPassword(e.target.value)}\r\n+              />\r\n+            </div>\r\n+            <div className=\"SubmitSection\">\r\n+              <button type=\"submit\" className=\"SubmitButton\"> {/* Button inside the form */}\r\n+                Log in\r\n+              </button>\r\n+            </div>\r\n+          </div>\r\n+        </form>\r\n+        {error && <p className=\"ErrorMessage\">{error}</p>} {/* Display error message */}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\r\n \r\n-    // Authenticate the user with Firebase Authentication\r\n-    const userCredential = await signInWithEmailAndPassword(auth, email.value, password.value);\r\n-    const user = userCredential.user;\r\n-\r\n-    console.log('User authenticated:', user);\r\n-\r\n-    await setDoc(userDocRef, {\r\n-      email: userData.email.value,\r\n-    });    \r\n-\r\n-\r\n-    // // Store the user data in localStorage (optional)\r\n-    // localStorage.setItem('client_id', userData['client id']);\r\n-    // localStorage.setItem('company_name', userData['company name']);\r\n-    // localStorage.setItem('user_id', userData.id);\r\n-\r\n-    // Redirect to dashboard after successful login\r\n-    window.location.href = '/main';\r\n-\r\n-    return user;\r\n-  } catch (error) {\r\n-    if (error.code === 'auth/user-not-found') {\r\n-      throw new Error('User not found. Please check your email or sign up.');\r\n-    } else if (error.code === 'auth/wrong-password') {\r\n-      throw new Error('Incorrect password. Please try again.');\r\n-    } else {\r\n-      throw new Error('Login failed: ' + error.message);\r\n-    }\r\n-  }\r\n-};\r\n+export default LoginPage;\r\n"
                },
                {
                    "date": 1737228428261,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,74 @@\n+import React, { useState } from 'react';\r\n+import { loginUser } from '../auth/auth'; // Import the login function\r\n+import { useNavigate } from 'react-router-dom';\r\n+import './LoginPage.css'; // Import the CSS file\r\n+\r\n+const LoginPage = () => {\r\n+  const [email, setEmail] = useState('');\r\n+  const [password, setPassword] = useState('');\r\n+  const [error, setError] = useState('');\r\n+  const [companyName, setCompanyName] = useState(''); // Store company name\r\n+  const navigate = useNavigate();\r\n+\r\n+  const handleLogin = async (e) => {\r\n+    e.preventDefault(); // Prevent the form from reloading the page\r\n+\r\n+    try {\r\n+      const { user, userData, companyData } = await loginUser(email, password); // Log in the user\r\n+      console.log('User logged in:', user);\r\n+      \r\n+      // Set the company name after login\r\n+      setCompanyName(companyData['name'] || 'Unknown');\r\n+\r\n+      // Store minimal data in localStorage\r\n+      localStorage.setItem('user_id', user.uid); // Store user ID\r\n+      localStorage.setItem('company_name', companyData['name'] || 'Unknown'); // Store company name if available\r\n+\r\n+      // Redirect to the main page after login\r\n+      navigate('/main');\r\n+    } catch (err) {\r\n+      setError(err.message); // Display error message if login fails\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"ImportantMessages\">\r\n+      <div className=\"LogoSection\">\r\n+        <img src=\"/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n+      </div>\r\n+      <div className=\"LoginPadding\">\r\n+        <form className=\"LoginSection\" onSubmit={handleLogin}> {/* Use a form element */}\r\n+          <div className=\"WelcomeText\">{companyName} - Welcome</div> {/* Display company name */}\r\n+          <div className=\"Frame34\">\r\n+            <div className=\"EmailColumn\">\r\n+              <label className=\"EmailAddress\">Email Address</label>\r\n+              <input\r\n+                type=\"email\"\r\n+                className=\"InputField\"\r\n+                value={email}\r\n+                onChange={(e) => setEmail(e.target.value)}\r\n+              />\r\n+            </div>\r\n+            <div className=\"PasswordColumn\">\r\n+              <label className=\"Password\">Password</label>\r\n+              <input\r\n+                type=\"password\"\r\n+                className=\"InputField\"\r\n+                value={password}\r\n+                onChange={(e) => setPassword(e.target.value)}\r\n+              />\r\n+            </div>\r\n+            <div className=\"SubmitSection\">\r\n+              <button type=\"submit\" className=\"SubmitButton\"> {/* Button inside the form */}\r\n+                Log in\r\n+              </button>\r\n+            </div>\r\n+          </div>\r\n+        </form>\r\n+        {error && <p className=\"ErrorMessage\">{error}</p>} {/* Display error message */}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default LoginPage;\r\n"
                },
                {
                    "date": 1737231293229,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,9 @@\n       setCompanyName(companyData['name'] || 'Unknown');\r\n \r\n       // Store minimal data in localStorage\r\n       localStorage.setItem('user_id', user.uid); // Store user ID\r\n-      localStorage.setItem('company_name', companyData['name'] || 'Unknown'); // Store company name if available\r\n+      localStorage.setItem('company_name', companyData['company name'] || 'Unknown'); // Store company name if available\r\n \r\n       // Redirect to the main page after login\r\n       navigate('/main');\r\n     } catch (err) {\r\n@@ -71,69 +71,4 @@\n   );\r\n };\r\n \r\n export default LoginPage;\r\n-// src/Component/LoginPage.jsx\r\n-import React, { useState } from 'react';\r\n-import { loginUser } from '../auth/auth'; // Import the login function\r\n-import { useNavigate } from 'react-router-dom';\r\n-import './LoginPage.css'; // Import the CSS file\r\n-\r\n-const LoginPage = ({ companyName }) => {\r\n-  const [email, setEmail] = useState('');\r\n-  const [password, setPassword] = useState('');\r\n-  const [error, setError] = useState('');\r\n-  const navigate = useNavigate();\r\n-\r\n-  const handleLogin = async (e) => {\r\n-    e.preventDefault(); // Prevent the form from reloading the page\r\n-\r\n-    try {\r\n-      const user = await loginUser(email, password); // Log in the user\r\n-      console.log('User logged in:', user);\r\n-      navigate('/main'); // Redirect to the main page after login\r\n-    } catch (err) {\r\n-      setError(err.message); // Display error message if login fails\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"ImportantMessages\">\r\n-      <div className=\"LogoSection\">\r\n-        <img src=\"/datum/datum.png\" alt=\"Company Logo\" className=\"CompanyLogo\" />\r\n-      </div>\r\n-      <div className=\"LoginPadding\">\r\n-        <form className=\"LoginSection\" onSubmit={handleLogin}> {/* Use a form element */}\r\n-          <div className=\"WelcomeText\">{companyName} - Welcome</div> {/* Display company name */}\r\n-          <div className=\"Frame34\">\r\n-            <div className=\"EmailColumn\">\r\n-              <label className=\"EmailAddress\">Email Address</label>\r\n-              <input\r\n-                type=\"email\"\r\n-                className=\"InputField\"\r\n-                value={email}\r\n-                onChange={(e) => setEmail(e.target.value)}\r\n-              />\r\n-            </div>\r\n-            <div className=\"PasswordColumn\">\r\n-              <label className=\"Password\">Password</label>\r\n-              <input\r\n-                type=\"password\"\r\n-                className=\"InputField\"\r\n-                value={password}\r\n-                onChange={(e) => setPassword(e.target.value)}\r\n-              />\r\n-            </div>\r\n-            <div className=\"SubmitSection\">\r\n-              <button type=\"submit\" className=\"SubmitButton\"> {/* Button inside the form */}\r\n-                Log in\r\n-              </button>\r\n-            </div>\r\n-          </div>\r\n-        </form>\r\n-        {error && <p className=\"ErrorMessage\">{error}</p>} {/* Display error message */}\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default LoginPage;\r\n"
                },
                {
                    "date": 1737231340925,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,8 +21,9 @@\n       setCompanyName(companyData['name'] || 'Unknown');\r\n \r\n       // Store minimal data in localStorage\r\n       localStorage.setItem('user_id', user.uid); // Store user ID\r\n+      localStorage.setItem('user_name', userData['name'] || 'Unknown'); // Store user name if available\r\n       localStorage.setItem('company_name', companyData['company name'] || 'Unknown'); // Store company name if available\r\n \r\n       // Redirect to the main page after login\r\n       navigate('/main');\r\n"
                },
                {
                    "date": 1737231394451,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,9 +21,8 @@\n       setCompanyName(companyData['name'] || 'Unknown');\r\n \r\n       // Store minimal data in localStorage\r\n       localStorage.setItem('user_id', user.uid); // Store user ID\r\n-      localStorage.setItem('user_name', userData['name'] || 'Unknown'); // Store user name if available\r\n       localStorage.setItem('company_name', companyData['company name'] || 'Unknown'); // Store company name if available\r\n \r\n       // Redirect to the main page after login\r\n       navigate('/main');\r\n"
                }
            ],
            "date": 1736963692714,
            "name": "Commit-0",
            "content": "import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom'; // For page redirection\r\nimport { getAuth, signInWithEmailAndPassword } from 'firebase/auth'; // Firebase Authentication\r\n\r\nconst LoginPage = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const navigate = useNavigate(); // Navigate to the next page on success\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    const auth = getAuth();\r\n    \r\n    try {\r\n      const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n      const user = userCredential.user;\r\n\r\n      // Check if the email domain is correct (example domain 'transinergi.com')\r\n      const emailDomain = email.split('@')[1];\r\n      if (emailDomain === 'transinergi.com') {\r\n        // Redirect to the main layout page\r\n        navigate('/main');\r\n      } else {\r\n        setErrorMessage('Invalid email domain');\r\n      }\r\n    } catch (error) {\r\n      setErrorMessage(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <h2>Login</h2>\r\n      <form onSubmit={handleLogin}>\r\n        <div>\r\n          <label>Email</label>\r\n          <input \r\n            type=\"email\" \r\n            value={email} \r\n            onChange={(e) => setEmail(e.target.value)} \r\n            required \r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Password</label>\r\n          <input \r\n            type=\"password\" \r\n            value={password} \r\n            onChange={(e) => setPassword(e.target.value)} \r\n            required \r\n          />\r\n        </div>\r\n        <button type=\"submit\">Login</button>\r\n        {errorMessage && <p>{errorMessage}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\nv"
        }
    ]
}