{
    "sourceFile": "parrot-aml/src/login system/LoginPage.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1736963692714,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1736964048915,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,5 +58,4 @@\n   );\r\n };\r\n \r\n export default LoginPage;\r\n-v\n\\ No newline at end of file\n"
                },
                {
                    "date": 1736967432078,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,46 @@\n+import React, { useState } from 'react';\r\n+import { loginUser } from './auth'; // Import the login function\r\n+import { useNavigate } from 'react-router-dom';\r\n+\r\n+const LoginPage = () => {\r\n+  const [email, setEmail] = useState('');\r\n+  const [password, setPassword] = useState('');\r\n+  const [error, setError] = useState('');\r\n+  const navigate = useNavigate();\r\n+\r\n+  const handleLogin = async (e) => {\r\n+    e.preventDefault();\r\n+\r\n+    try {\r\n+      const user = await loginUser(email, password);\r\n+      console.log('User logged in:', user);\r\n+      navigate('/main'); // Redirect to the main page after login\r\n+    } catch (err) {\r\n+      setError(err.message); // Display error message if login fails\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div>\r\n+      <h2>Login</h2>\r\n+      <form onSubmit={handleLogin}>\r\n+        <input\r\n+          type=\"email\"\r\n+          placeholder=\"Email\"\r\n+          value={email}\r\n+          onChange={(e) => setEmail(e.target.value)}\r\n+        />\r\n+        <input\r\n+          type=\"password\"\r\n+          placeholder=\"Password\"\r\n+          value={password}\r\n+          onChange={(e) => setPassword(e.target.value)}\r\n+        />\r\n+        <button type=\"submit\">Log in</button>\r\n+      </form>\r\n+      {error && <p>{error}</p>}\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default LoginPage;\r\n"
                },
                {
                    "date": 1736967465238,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState } from 'react';\r\n-import { loginUser } from './auth'; // Import the login function\r\n+import { loginUser } from './auth/auth.jsx'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n \r\n const LoginPage = () => {\r\n   const [email, setEmail] = useState('');\r\n@@ -43,65 +43,4 @@\n   );\r\n };\r\n \r\n export default LoginPage;\r\n-import React, { useState } from 'react';\r\n-import { useNavigate } from 'react-router-dom'; // For page redirection\r\n-import { getAuth, signInWithEmailAndPassword } from 'firebase/auth'; // Firebase Authentication\r\n-\r\n-const LoginPage = () => {\r\n-  const [email, setEmail] = useState('');\r\n-  const [password, setPassword] = useState('');\r\n-  const [errorMessage, setErrorMessage] = useState('');\r\n-  const navigate = useNavigate(); // Navigate to the next page on success\r\n-\r\n-  const handleLogin = async (e) => {\r\n-    e.preventDefault();\r\n-    const auth = getAuth();\r\n-    \r\n-    try {\r\n-      const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n-      const user = userCredential.user;\r\n-\r\n-      // Check if the email domain is correct (example domain 'transinergi.com')\r\n-      const emailDomain = email.split('@')[1];\r\n-      if (emailDomain === 'transinergi.com') {\r\n-        // Redirect to the main layout page\r\n-        navigate('/main');\r\n-      } else {\r\n-        setErrorMessage('Invalid email domain');\r\n-      }\r\n-    } catch (error) {\r\n-      setErrorMessage(error.message);\r\n-    }\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"login-container\">\r\n-      <h2>Login</h2>\r\n-      <form onSubmit={handleLogin}>\r\n-        <div>\r\n-          <label>Email</label>\r\n-          <input \r\n-            type=\"email\" \r\n-            value={email} \r\n-            onChange={(e) => setEmail(e.target.value)} \r\n-            required \r\n-          />\r\n-        </div>\r\n-        <div>\r\n-          <label>Password</label>\r\n-          <input \r\n-            type=\"password\" \r\n-            value={password} \r\n-            onChange={(e) => setPassword(e.target.value)} \r\n-            required \r\n-          />\r\n-        </div>\r\n-        <button type=\"submit\">Login</button>\r\n-        {errorMessage && <p>{errorMessage}</p>}\r\n-      </form>\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default LoginPage;\r\n"
                },
                {
                    "date": 1736967572580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState } from 'react';\r\n-import { loginUser } from './auth/auth.jsx'; // Import the login function\r\n+import { loginUser } from 'parrot-aml/src/auth/auth.jsx'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n \r\n const LoginPage = () => {\r\n   const [email, setEmail] = useState('');\r\n"
                },
                {
                    "date": 1736967601005,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState } from 'react';\r\n-import { loginUser } from 'parrot-aml/src/auth/auth.jsx'; // Import the login function\r\n+import { loginUser } from './auth/auth.jsx'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n \r\n const LoginPage = () => {\r\n   const [email, setEmail] = useState('');\r\n"
                },
                {
                    "date": 1736967607729,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState } from 'react';\r\n-import { loginUser } from './auth/auth.jsx'; // Import the login function\r\n+import { loginUser } from 'parrot-aml/src/auth/auth.jsx'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n \r\n const LoginPage = () => {\r\n   const [email, setEmail] = useState('');\r\n"
                },
                {
                    "date": 1736967615739,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState } from 'react';\r\n-import { loginUser } from 'parrot-aml/src/auth/auth.jsx'; // Import the login function\r\n+import { loginUser } from '../auth/auth.jsx'; // Import the login function\r\n import { useNavigate } from 'react-router-dom';\r\n \r\n const LoginPage = () => {\r\n   const [email, setEmail] = useState('');\r\n"
                }
            ],
            "date": 1736963692714,
            "name": "Commit-0",
            "content": "import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom'; // For page redirection\r\nimport { getAuth, signInWithEmailAndPassword } from 'firebase/auth'; // Firebase Authentication\r\n\r\nconst LoginPage = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const navigate = useNavigate(); // Navigate to the next page on success\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    const auth = getAuth();\r\n    \r\n    try {\r\n      const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n      const user = userCredential.user;\r\n\r\n      // Check if the email domain is correct (example domain 'transinergi.com')\r\n      const emailDomain = email.split('@')[1];\r\n      if (emailDomain === 'transinergi.com') {\r\n        // Redirect to the main layout page\r\n        navigate('/main');\r\n      } else {\r\n        setErrorMessage('Invalid email domain');\r\n      }\r\n    } catch (error) {\r\n      setErrorMessage(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <h2>Login</h2>\r\n      <form onSubmit={handleLogin}>\r\n        <div>\r\n          <label>Email</label>\r\n          <input \r\n            type=\"email\" \r\n            value={email} \r\n            onChange={(e) => setEmail(e.target.value)} \r\n            required \r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Password</label>\r\n          <input \r\n            type=\"password\" \r\n            value={password} \r\n            onChange={(e) => setPassword(e.target.value)} \r\n            required \r\n          />\r\n        </div>\r\n        <button type=\"submit\">Login</button>\r\n        {errorMessage && <p>{errorMessage}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\nv"
        }
    ]
}